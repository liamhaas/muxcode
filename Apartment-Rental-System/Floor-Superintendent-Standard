@create Floor [mid([name(here)],6,1)] Superintendent 
drop superintendent
@force superintendent=&myfloor me=[mid([name(here)],6,1)]
@lock superintendent=me
@link superintendent=here
@set superintendent=inherit
@lock/uselock superintendent=L6FS34DH6HGDK3F:x
@force super=&list-rooms me=strcat(get(me/myfloor),00)
&roomparent super=#RPNUM
&defparent super=#DPNUM
&bad-response-1p Superintendent=The superintendent takes the key from you, squints at it, and turns it over a few times. "I can't help you," he says, looking you square in the eye. He hands the key back. "Something's not right with that key- maybe it's damaged or maybe it's not quite real, I'm not gonna say which I think."
&bad-response-1o Superintendent=The superintendent takes the key from @@, squints at it, and turns it over a few times. "I can't help you," he says, looking ?? square in the eye. He hands the key back. "Something's not right with that key- maybe it's damaged or maybe it's not quite real, I'm not gonna say which I think."
&bad-response-2p Superintendent=The superintendent flips through his notebook, comparing what's written there with the key you've handed him. "Nope, sorry," he finally says, snapping the notebook shut. "You're not registered to that room as far as I can see."
&bad-response-2o Superintendent=The superintendent flips through his notebook, comparing what's written there with the key @@ has handed him. "Nope, sorry," he finally says, snapping the notebook shut. "You're not registered to that room as far as I can see."
&bad-response-3p Superintendent=The superintendent squints down the hallway, then turns back to you. "No, I'm pretty sure that room is already rented out. I don't think they'd appreciate it if I moved someone in on top of them!"
&bad-response-3o Superintendent=The superintendent squints down the hallway, then turns back to @@. "No, I'm pretty sure that room is already rented out. I don't think they'd appreciate it if I moved someone in on top of them!"
&bad-response-4p Superintendent=The superintendent narrows his eyes at you, noticing a familiarity. "Hah!" he finally says, laughing. "You almost got me on that one! But I know you've already got a rental here, and you know the rule: One apartment per renter. If you wanna abandon your digs, talk to the gal at the front desk."
&bad-response-4o Superintendent=The superintendent narrows his eyes at @@, noticing a familiarity. "Hah!" he finally says, laughing. "You almost got me on that one! But I know you've already got a rental here, and you know the rule: One apartment per renter. If you wanna abandon your digs, talk to the gal at the front desk."
&bad-response-5p Superintendent=The superintendent gives your key a glance and shakes his head. "Sorry, not my territory. You'll need to go to a different floor!"
&bad-response-5o Superintendent=The superintendent gives @@'s key a glance and shakes his head. "Sorry, not my territory. You'll need to go to a different floor!"
&bad-response-6p Superintendent=The superintendent eyeballs you knowingly. "I'm not sure where you got the master key from, kiddo, and I'm not paid enough to try to take it back from you, but I'm also not going to set you up an apartment with it."
&bad-response-6o Superintendent=The superintendent eyeballs @@ knowingly. "I'm not sure where you got the master key from, kiddo, and I'm not paid enough to try to take it back from you, but I'm also not going to set you up an apartment with it."
&good-response-p Superintendent=The superintendent takes your key, consults his notes briefly, and then vanishes down the hall. You can hear an almost comical soundtrack of last-minute repair work, then he reappears and hands your key back to you. "You're all set! You'll be in room
&good-response-o Superintendent=The superintendent takes @@'s key, consults his notes briefly, and then vanishes down the hall. You can hear an almost comical soundtrack of last-minute repair work, then he reappears and hands ??'s key back. "You're all set! You'll be in room
@va superintendent=^checkin *~*~*~*~*: &temp_verify me=switch(0,eq(%2,decrypt(%3,name(%1))),bad1,strmatch(%1,%4),bad2,eq(0,match([v(list-rooms)],%2)),bad3,eq(0,match([v(list-renters)],%1)),bad4,eq(mid(%2,0,1),[v(myfloor)]),bad5,eq(0,strmatch(%3,x)),bad6,good); @dig/teleport [ifelse(strmatch([v(temp_verify)],good),Apartment Temp Name,failover)]; &temp_roomnum me=num(here); @name Apartment Temp Name=%0's Apartment - Apt %2; @open tempexit=[v(myhome)];@name tempexit=ifelse(strmatch([v(temp_verify)],good),<O> Out\;out\;o,bullshitexit); @parent here=ifelse(strmatch([v(temp_verify)],good),[v(RPNUM)],[v(DPNUM)]); @chown here=ifelse(strmatch([v(temp_verify)],good),%1,#OWNUM); @set here = !halted;@set here = abode; @destroy/instant bullshitexit; @destroy/instant failover; @tel [v(myhome)]; @open tempexit=[v(temp_roomnum)]; @name tempexit=ifelse(strmatch([v(temp_verify)],good),<%2> Apt %2\;apt %2\;%2\;apartment %2,bullshitexit); @lock %2=L6FS34DH6HGDK3F:x & roomnum:%2; @destroy/instant bullshitexit; &LIST-ROOMS me=ifelse(strmatch([v(temp_verify)],good),cat([v(list-rooms)],%2),[v(list-rooms)]); &LIST-RENTERS me=ifelse(strmatch([v(temp_verify)],good),cat([v(list-renters)],%1),[v(list-renters)]); @pemit %1=switch([v(temp_verify)],bad1,[v(bad-response-1p)],bad2,[v(bad-response-2p)],bad3,[v(bad-response-3p)],bad4,[v(bad-response-4p)],bad5,[v(bad-response-5p)],bad6,[v(bad-response-6p)],good,strcat(cat([v(good-response-p)],%2),."),Something appears to have gone wrong! Contact Red.); @oemit %1=switch([v(temp_verify)],bad1,strcat(before([v(bad-response-1o)],@@),%0,before(after([v(bad-response-1o)],@@),??),%0,after([v(bad-response-1o)],??)),bad2,strcat(before([v(bad-response-2o)],@@),%0,after([v(bad-response-2o)],@@)),bad3,strcat(before([v(bad-response-3o)],@@),%0,after([v(bad-response-3o)],@@)),bad4,strcat(before([v(bad-response-4o)],@@),%0,after([v(bad-response-4o)],@@)),bad5,strcat(before([v(bad-response-5o)],@@),%0,after([v(bad-response-5o)],@@)),bad6,strcat(before([v(bad-response-6o)],@@),%0,after([v(bad-response-6o)],@@)),good,strcat(before([v(bad-response-1o)],@@),%0,before(after([v(bad-response-1o)],@@),??),%0,after([v(bad-response-1o)],??),%2,."),Something appears to have gone wrong! Contact Red.); @desc directory=ifelse(strmatch([v(temp_verify)],good),cat(get(directory/desc),strcat(%r,<,%2,>%b-%b,%0)),get(directory/desc)); @pemit %#=strcat(blark,%b,[v(temp_roomnum)],~,num(%2)); &temp_verify me=; &temp_roomnum me=; @chown here=#OWNUM; @set here=!halted
@pemit #FDNUM=reg sup [get(superintendent/myfloor)]~[num(superintendent)]
@power superintendent=builder
@force super=&myhome me=num(here)
